"use client";
import { useRef, useEffect, SetStateAction, Dispatch } from "react";
import gsap from "gsap";

const Loader = ({
  handleLoading,
}: {
  handleLoading: Dispatch<SetStateAction<boolean>>;
}) => {
  const loaderRef1 = useRef(null);
  const loaderRef2 = useRef(null);

  useEffect(() => {
    const interval = setTimeout(() => {
      handleLoading(false);
    }, 3200);
    if (loaderRef1.current && loaderRef2.current) {
      gsap.to("#logo", {
        opacity: 0,
        duration: 0.5,
        delay: 2.2,
      });
      gsap.to(loaderRef1.current, {
        duration: 0.7,
        height: 0,
        delay: 2.5,
      });
      gsap.to(loaderRef2.current, {
        duration: 0.7,
        height: 0,
        delay: 2.5,
      });
    }
    return () => {
      clearInterval(interval);
    };
  }, []);

  return (
    <div className="h-screen w-full overflow-hidden bg-black">
      <div
        className="w-full h-screen bg-black flex items-center justify-center"
        ref={loaderRef1}
      >
        <svg
          id="logo"
          width="573"
          height="123"
          viewBox="0 0 573 123"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M480.415 116V118.5H482.915H496.126H498.626V116V69.7074H551.793V116V118.5H554.293H567.503H570.003V116V6.90909V4.40909H567.503H554.293H551.793V6.90909V52.9886H498.626V6.90909V4.40909H496.126H482.915H480.415V6.90909V116Z"
            stroke="#00FFA3"
            stroke-width="5"
          />
          <path
            d="M444.437 34.4758L444.699 36.6818H446.92H459.704H462.286L462.203 34.1012C462.009 28.0985 460.139 22.6862 456.598 17.9371C453.123 13.2278 448.44 9.56644 442.634 6.92641C436.788 4.23239 430.173 2.9176 422.843 2.9176C415.573 2.9176 408.913 4.25433 402.906 6.97391C396.935 9.65769 392.105 13.4729 388.49 18.434L388.488 18.4368C384.847 23.447 383.056 29.299 383.056 35.8864C383.056 43.8676 385.787 50.5106 391.327 55.5759C396.658 60.4505 403.784 64.1026 412.565 66.6271L412.569 66.6282L425.992 70.4635L426.001 70.466L426.009 70.4684C429.747 71.5068 433.209 72.7135 436.398 74.0849C439.424 75.3868 441.768 77.0362 443.508 78.9908C445.05 80.7215 445.912 83.0384 445.912 86.1704C445.912 89.6141 444.912 92.5417 442.935 95.0605C440.894 97.6242 438.086 99.6931 434.41 101.223C430.743 102.715 426.546 103.486 421.778 103.486C417.7 103.486 413.93 102.885 410.451 101.706C407.084 100.517 404.36 98.7483 402.216 96.4226C400.219 94.1848 399.016 91.3132 398.701 87.6603L398.504 85.375H396.21H382.573H379.889L380.08 88.0531C380.536 94.4421 382.506 100.13 386.028 105.045L386.035 105.055C389.59 109.963 394.432 113.742 400.469 116.421L400.475 116.423C406.579 119.115 413.702 120.418 421.778 120.418C430.427 120.418 437.936 118.971 444.215 115.966C450.461 112.993 455.32 108.925 458.662 103.719C462.023 98.5407 463.696 92.7395 463.696 86.3835C463.696 80.9307 462.577 76.1481 460.2 72.1598C457.933 68.3543 455.031 65.2118 451.499 62.7638C448.139 60.376 444.597 58.4817 440.875 57.0902C437.338 55.7551 434.097 54.6972 431.156 53.9249C431.154 53.9242 431.151 53.9235 431.149 53.9228L420.084 50.9439L420.077 50.9421L420.07 50.9403C418.129 50.4294 415.981 49.7603 413.623 48.9285C411.374 48.1004 409.223 47.0583 407.17 45.8009C405.257 44.5953 403.706 43.1157 402.49 41.3591C401.425 39.7385 400.841 37.7386 400.841 35.2471C400.841 32.2825 401.675 29.6962 403.339 27.4044C405.064 25.077 407.494 23.1862 410.734 21.7739C413.981 20.3741 417.856 19.6364 422.417 19.6364C428.641 19.6364 433.714 21.038 437.771 23.7009C441.7 26.2788 443.885 29.8117 444.437 34.4758Z"
            stroke="#00FFA3"
            stroke-width="5"
          />
          <path
            d="M288.814 116V118.5H291.314H304.524H307.024V116V75.8864H328.388C328.827 75.8864 329.263 75.8827 329.696 75.8753L351.968 117.186L352.676 118.5H354.169H369.51H373.73L371.702 114.799L348.43 72.3173C349.09 72.0294 349.735 71.7236 350.362 71.3997L350.373 71.3937C356.213 68.3404 360.631 64.0874 363.517 58.6278C366.361 53.2476 367.748 47.1368 367.748 40.3608C367.748 33.584 366.36 27.4438 363.524 22.0002C360.641 16.4686 356.207 12.159 350.331 9.0674C344.392 5.90622 336.958 4.40909 328.174 4.40909H291.314H288.814V6.90909V116ZM327.961 58.9545H307.024V21.1278H327.748C333.421 21.1278 337.731 22.0044 340.844 23.5761L340.853 23.5806L340.862 23.5849C344.01 25.1435 346.198 27.2933 347.565 30.0264C348.994 32.8847 349.751 36.3057 349.751 40.3608C349.751 44.4189 348.993 47.7717 347.58 50.5055L347.575 50.5152C346.26 53.0867 344.109 55.1388 340.951 56.6397L340.942 56.6439C337.851 58.1277 333.575 58.9545 327.961 58.9545Z"
            stroke="#00FFA3"
            stroke-width="5"
          />
          <path
            d="M194.421 118.5H196.186L196.777 116.836L207.154 87.6051H247.739L258.116 116.836L258.707 118.5H260.472H274.322H277.903L276.668 115.138L236.612 6.04737L236.01 4.40909H234.265H220.628H218.883L218.282 6.04737L178.225 115.138L176.99 118.5H180.572H194.421ZM227.447 30.4402L241.804 70.8864H213.089L227.447 30.4402Z"
            stroke="#00FFA3"
            stroke-width="5"
          />
          <path
            d="M103.365 116V118.5H105.865H119.075H121.575V116V78.6562H142.938C151.71 78.6562 159.134 77.0621 165.055 73.6953L165.065 73.6891C170.895 70.3362 175.269 65.7919 178.096 60.0631C180.912 54.4302 182.299 48.2024 182.299 41.4261C182.299 34.6478 180.911 28.433 178.09 22.8304C175.223 17.1342 170.808 12.6441 164.94 9.36533C159.018 6.00022 151.56 4.40909 142.725 4.40909H105.865H103.365V6.90909V116ZM142.512 61.9375H121.575V21.1278H142.299C147.982 21.1278 152.276 22.0857 155.362 23.7972L155.371 23.8018L155.379 23.8064C158.533 25.5237 160.729 27.8387 162.084 30.7595L162.088 30.7691L162.093 30.7786C163.546 33.8428 164.302 37.3748 164.302 41.4261C164.302 45.4769 163.546 49.0307 162.089 52.1359L162.084 52.1461C160.721 55.0828 158.526 57.4417 155.39 59.2293C152.345 60.9651 148.115 61.9375 142.512 61.9375Z"
            stroke="#00FFA3"
            stroke-width="5"
          />
          <path
            d="M67.3866 34.4758L67.6479 36.6818H69.8693H82.6534H85.2353L85.1521 34.1012C84.9585 28.0985 83.0883 22.6862 79.5474 17.9371C76.0718 13.2278 71.3889 9.56645 65.5832 6.92641C59.7372 4.23239 53.1226 2.9176 45.7926 2.9176C38.5219 2.9176 31.862 4.25433 25.8549 6.97391C19.8839 9.65769 15.054 13.4729 11.439 18.434L11.437 18.4368C7.79673 23.447 6.00566 29.299 6.00566 35.8864C6.00566 43.8676 8.73597 50.5106 14.2761 55.5759C19.6077 60.4505 26.733 64.1026 35.5138 66.6271L35.5177 66.6282L48.941 70.4635L48.9499 70.466L48.9587 70.4684C52.6967 71.5068 56.158 72.7134 59.3467 74.0849C62.3737 75.3868 64.7168 77.0362 66.4576 78.9908C67.999 80.7215 68.8608 83.0384 68.8608 86.1704C68.8608 89.6141 67.8609 92.5417 65.8839 95.0605C63.8435 97.6242 61.0351 99.6931 57.3592 101.223C53.6926 102.715 49.4952 103.486 44.7272 103.486C40.649 103.486 36.8791 102.885 33.3997 101.706C30.0328 100.517 27.3094 98.7483 25.1657 96.4226C23.1686 94.1848 21.9647 91.3132 21.6498 87.6603L21.4528 85.375H19.1591H5.52271H2.83776L3.02906 88.0531C3.48542 94.4421 5.45566 100.13 8.97701 105.045L8.98462 105.055C12.5395 109.963 17.3815 113.742 23.4185 116.421L23.4238 116.423C29.5279 119.115 36.6516 120.418 44.7272 120.418C53.3759 120.418 60.8854 118.971 67.1643 115.966C73.4104 112.993 78.2688 108.925 81.611 103.719C84.9719 98.5407 86.6449 92.7395 86.6449 86.3835C86.6449 80.9307 85.5265 76.1481 83.1497 72.1598C80.8818 68.3543 77.9801 65.2118 74.4479 62.7638C71.0879 60.376 67.546 58.4817 63.8242 57.0902C60.2875 55.7551 57.0463 54.6972 54.1057 53.9249C54.1031 53.9242 54.1004 53.9235 54.0978 53.9228L43.0334 50.9439L43.0266 50.9421L43.0197 50.9403C41.0785 50.4294 38.9305 49.7603 36.5726 48.9285C34.3232 48.1004 32.1727 47.0583 30.1193 45.8009C28.2062 44.5953 26.6551 43.1157 25.4395 41.3591C24.3743 39.7385 23.7898 37.7386 23.7898 35.2471C23.7898 32.2825 24.6242 29.6962 26.2883 27.4044C28.0137 25.077 30.443 23.1862 33.683 21.7739C36.9299 20.3741 40.8049 19.6364 45.3665 19.6364C51.5899 19.6364 56.6629 21.038 60.7207 23.7009C64.6488 26.2788 66.8343 29.8117 67.3866 34.4758Z"
            stroke="#00FFA3"
            stroke-width="5"
          />
        </svg>
      </div>
      <div className="w-full h-screen bg-green-400" ref={loaderRef2}></div>
    </div>
  );
};

export default Loader;
